(this["webpackJsonpimmortal-reborn-simulators"]=this["webpackJsonpimmortal-reborn-simulators"]||[]).push([[0],{12:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(7),r=a(0),i=a.n(r),o=a(61),c=function(e){var t=e.children,a=e.tooltip,c=e.forceShow,l=Object(r.useRef)(null),s=Object(r.useState)(!1),d=Object(n.a)(s,2),u=d[0],p=d[1],m=Object(r.useState)(!1),v=Object(n.a)(m,2),x=v[0],y=v[1],f={};if(!c){var h=function(){return p(!0)};f={onMouseOver:h,onFocus:h,onMouseLeave:function(){return p(!1)}}}var g=t.props,b=g.x,E=void 0===b?0:b,w=g.y,N=void 0===w?0:w,j=g.width,I=void 0===j?0:j,O=g.height,S=void 0===O?0:O,k=g.cx,B=g.cy,A=g.r;return k&&B&&A&&(E=k-A,N=B-A,I=2*A,S=2*A),Object(r.useEffect)((function(){y(!0)}),[l]),i.a.createElement(i.a.Fragment,null,i.a.createElement("svg",Object.assign({x:E,y:N,width:I,height:S,viewBox:"".concat(E," ").concat(N," ").concat(I," ").concat(S)},f),i.a.createElement("foreignObject",{x:E,y:N,width:I,height:S},i.a.createElement("div",{ref:l,style:{width:"100%",height:"100%",visibility:"hidden"}}),x&&(u||c)&&l.current&&i.a.createElement(o.a,{align:{bottom:"top"},target:l.current,trapFocus:!1},a)),t))}},29:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(0),r=a.n(n),i=a(12),o=function(e){var t=e.x,a=e.y,n=e.id,o=e.isSelected,c=e.nodes,l=e.prevNodesIndexes,s=e.nextNodesIndexes,d=e.onClick,u=e.tooltip,p=e.showTooltip,m=e.searchString,v=!1,x=!1;o||(v=0===n||void 0!==l.find((function(e){return c[e].isSelected}))||void 0!==s.find((function(e){return c[e].isSelected}))),m&&(null===u||void 0===u?void 0:u.includes(m))&&(x=!0);var y=o||v;return r.a.createElement(r.a.Fragment,null,s.map((function(e){var i=c[e];return r.a.createElement("line",{x1:t,y1:a,z:100,x2:i.x,y2:i.y,stroke:o&&i.isSelected?"blue":"black",key:"".concat(n,"-").concat(i.id)})})),r.a.createElement("svg",{x:t-5,y:a-5,width:10,height:10,viewBox:"0 0 ".concat(10," ").concat(10),onClick:y?d:function(){},style:y?{cursor:"pointer"}:void 0},r.a.createElement(i.a,{tooltip:u||"",forceShow:p},r.a.createElement("circle",{cx:5,cy:5,r:2.5,fill:o?"blue":v?"green":"gray"})),x&&r.a.createElement("circle",{cx:5,cy:5,r:4,stroke:"red",fillOpacity:0})),r.a.createElement("svg",null))}},30:function(e,t){},31:function(e,t,a){"use strict";var n=a(29);a.d(t,"Node",(function(){return n.a}));a(12),a(30)},47:function(e,t,a){e.exports=a(60)},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),o=a.n(i),c=a(74),l=a(73),s=a(71),d=a(77),u=a(10),p=a(45),m=a(7),v=a(76),x=a(75),y=a(72),f=a(78),h={x:6,y:30},g=[{id:0,x:2,y:0,type:"stats",point:3,name:"\u5a01",value:5,prevNodesIndexes:[]},{id:1,x:4,y:2,type:"stats",point:3,name:"\u8010",value:5,prevNodesIndexes:[0]},{id:2,x:5,y:3,type:"stats",point:3,name:"\u79d8",value:5,prevNodesIndexes:[1]},{id:3,x:2,y:4,type:"stats",point:3,name:"\u8fd0",value:5,prevNodesIndexes:[1]},{id:4,x:1,y:5,type:"stats",point:3,name:"\u5168\u5c5e\u6027",value:3,prevNodesIndexes:[3]},{id:5,x:3,y:5,type:"stats",point:3,name:"\u654f",value:5,prevNodesIndexes:[2,3]},{id:6,x:3,y:7,type:"stats",point:3,name:"\u4e00\u8f6c",value:2,prevNodesIndexes:[5]},{id:7,x:5,y:7,type:"stats",point:3,name:"\u4e00\u8f6c",value:2,prevNodesIndexes:[2]},{id:8,x:6,y:8,type:"stats",point:3,name:"\u8fd0",value:5,prevNodesIndexes:[7]},{id:9,x:1,y:9,type:"stats",point:3,name:"\u8010",value:5,prevNodesIndexes:[6]},{id:10,x:3,y:9,type:"stats",point:3,name:"\u654f",value:5,prevNodesIndexes:[6]},{id:11,x:5,y:9,type:"stats",point:3,name:"\u5a01",value:5,prevNodesIndexes:[7]},{id:12,x:2,y:10,type:"stats",point:3,name:"\u666e\u653b",value:.07,prevNodesIndexes:[9,10]},{id:13,x:4,y:10,type:"stats",point:3,name:"\u8155\u529b",value:.5,prevNodesIndexes:[11]},{id:14,x:6,y:10,type:"stats",point:3,name:"\u79d8",value:5,prevNodesIndexes:[8]},{id:15,x:1,y:13,type:"special",point:3,name:"\u71c3\u70e7\u95f4\u9694-50%",prevNodesIndexes:[9]},{id:16,x:3,y:13,type:"stats",point:3,name:"\u4e8c\u8f6c",value:2,prevNodesIndexes:[14]},{id:17,x:2,y:14,type:"stats",point:3,name:"\u5168\u6297\u6027",value:.04,prevNodesIndexes:[]},{id:18,x:1,y:15,type:"stats",point:3,name:"\u4e8c\u8f6c",value:2,prevNodesIndexes:[15,17]},{id:19,x:3,y:15,type:"stats",point:3,name:"\u5168\u5c5e\u6027",value:3,prevNodesIndexes:[16]},{id:20,x:0,y:16,type:"skill",point:3,name:"\u751f\u547d\u7efd\u653e",prevNodesIndexes:[18]},{id:21,x:2,y:16,type:"stats",point:3,name:"\u66b4\u51fb\u7387",value:.05,prevNodesIndexes:[17,19]}],b=a(31);function E(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(0),l=Object(m.a)(o,2),s=l[0],E=l[1],w=Object(n.useState)({}),N=Object(m.a)(w,2),j=N[0],I=N[1],O=Object(n.useState)(""),S=Object(m.a)(O,2),k=S[0],B=S[1],A=Object(n.useState)(""),C=Object(m.a)(A,2),M=C[0],z=C[1];Object(n.useEffect)((function(){var e=window.location.href.split("?"),t=e[1];t&&($(t),window.history.pushState("some state","some title",e[0]))}));var F=function(e){var t=20*e.x+20,a=10*e.y+10;return{width:t,height:a,viewBox:"-10 -5 ".concat(t," ").concat(a)}}(h),T=[],J=function(e){var t=e.type,a=e.name,n=e.value,r=void 0===n?0:n,i=e.description,o=void 0===i?"":i;return"stats"===t?"".concat(a,"+").concat(r>=1?r:"".concat(Math.round(100*r),"%")):"skill"===t?"".concat(a,"\n").concat(o):"".concat(a)};g.forEach((function(e){var t={id:e.id,isSelected:!1,x:20*e.x,y:F.height-10*e.y-20,point:e.point,name:e.name,value:e.value,description:e.description,tooltip:J(e),nextNodesIndexes:[],prevNodesIndexes:e.prevNodesIndexes};t.prevNodesIndexes.forEach((function(e){T[e].nextNodesIndexes.push(t.id)})),T.push(t)}));var R=Object(n.useState)(T),W=Object(m.a)(R,2),D=W[0],L=W[1],$=function(e){var t=[].concat(T),a=0,n={};(e||M).split("-").forEach((function(e){var r=parseInt(e);if(!isNaN(r)&&r<t.length){var i=t[r];t.splice(r,1,Object(u.a)(Object(u.a)({},i),{},{isSelected:!i.isSelected})),a+=i.isSelected?-i.point:i.point,n[i.name]&&i.value?n[i.name]=(n[i.name]||0)+(i.isSelected?-i.value:i.value):n[i.name]=i.value}})),E(a),L(t),I(n),z("")},q=function(){var e="";return D.forEach((function(t){t.isSelected&&(e+=0===t.id?t.id:"".concat("-").concat(t.id))})),e};return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{fill:!0,rows:["100%"],columns:["50%","50%"],gap:"small",areas:[{name:"stats",start:[0,0],end:[0,0]},{name:"starMap",start:[1,0],end:[1,0]}]},r.a.createElement(c.a,{gridArea:"stats",pad:"10px",background:"light-5"},r.a.createElement(v.a,{fill:"horizontal",rows:["xxsmall","xxsmall","xxsmall"],columns:["45%","45%"],gap:"small",areas:[{name:"showAll",start:[0,0],end:[0,0]},{name:"resetAll",start:[1,0],end:[1,0]},{name:"importString",start:[0,1],end:[0,1]},{name:"importButton",start:[1,1],end:[1,1]},{name:"currentBuild",start:[0,2],end:[0,2]},{name:"exportButton",start:[1,2],end:[1,2]}]},r.a.createElement(x.a,{gridArea:"showAll",primary:!0,label:a?"\u5168\u90e8\u9690\u85cf":"\u5168\u90e8\u663e\u793a",onClick:function(){return i(!a)}}),r.a.createElement(x.a,{gridArea:"resetAll",fill:!1,primary:!0,label:"\u91cd\u7f6e",onClick:function(){return E(0),L(T),void I({})}}),r.a.createElement(c.a,{gridArea:"importString",background:"light-5"},r.a.createElement(y.a,{placeholder:"\u5bfc\u5165BD\u7684\u661f\u56fe\u70b9",value:M,onChange:function(e){z(e.target.value)}})),r.a.createElement(x.a,{gridArea:"importButton",fill:!1,primary:!0,label:"\u5bfc\u5165",onClick:function(){return $()}}),r.a.createElement(c.a,{gridArea:"currentBuild",background:"light-5"},r.a.createElement(y.a,{disabled:!0,placeholder:"\u73b0\u5728\u7684\u661f\u56fe\u70b9",value:q()})),r.a.createElement(x.a,{gridArea:"exportButton",fill:!1,primary:!0,label:"\u5bfc\u51fa\u8d85\u94fe\u63a5",onClick:function(){return navigator.clipboard.writeText("".concat(window.location.href).concat("?").concat(q()))}})),r.a.createElement(y.a,{placeholder:"\u641c\u7d22\u661f\u56fe",value:k,onChange:function(e){return B(e.target.value)}}),r.a.createElement(d.a,{size:"none"},"\u9700\u8981\uff1a".concat(s,"\u661f\u56fe\u70b9")),Object.keys(j).map((function(e){var t=j[e];return void 0===t?r.a.createElement(f.a,{key:e},e):t>0?r.a.createElement(f.a,{key:e},"".concat(e,"+").concat(t>1?t:"".concat(Math.round(100*t),"%"))):null}))),r.a.createElement(c.a,{gridArea:"starMap",background:"light-2"},r.a.createElement("svg",{width:3*F.width,height:3*F.height,viewBox:F.viewBox},r.a.createElement("rect",{x:-10,y:-10,width:"100%",height:"100%",fill:"Cyan"}),D.map((function(e){return r.a.createElement(b.Node,Object.assign({},e,{onClick:function(){return function(e){var t=D[e],a=Object(p.a)(D);a.splice(e,1,Object(u.a)(Object(u.a)({},t),{},{isSelected:!t.isSelected})),E(s+(t.isSelected?-t.point:t.point)),L(a);var n=Object(u.a)({},j);n[t.name]&&t.value?n[t.name]=(n[t.name]||0)+(t.isSelected?-t.value:t.value):n[t.name]=t.value,I(n)}(e.id)},nodes:D,showTooltip:a,searchString:k,key:e.id}))}))))))}var w={global:{colors:{brand:"#228BE6"},font:{family:"Roboto",size:"18px",height:"20px"}}},N=function(e){return r.a.createElement(c.a,Object.assign({tag:"header",direction:"row",align:"center",justify:"between",background:"brand",pad:{left:"medium",right:"small",vertical:"small"},elevation:"medium",style:{zIndex:"1"}},e))};var j=function(){return r.a.createElement(l.a,{theme:w,full:!0},r.a.createElement(s.a.Consumer,null,(function(e){return r.a.createElement(c.a,{fill:!0},r.a.createElement(N,null,r.a.createElement(d.a,{level:"3",margin:"none"},"\u4e0d\u673d\u661f\u56fe\u6a21\u62df\u5668")),r.a.createElement(c.a,{direction:"row",flex:!0,overflow:{horizontal:"hidden"}},r.a.createElement(c.a,{flex:!0,align:"center",justify:"center"},r.a.createElement(E,null))))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.714f3f0b.chunk.js.map