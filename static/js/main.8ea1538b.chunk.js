(this["webpackJsonpimmortal-reborn-simulators"]=this["webpackJsonpimmortal-reborn-simulators"]||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(7),o=n(0),r=n.n(o),i=n(61),c=function(e){var t=e.children,n=e.tooltip,c=e.forceShow,s=Object(o.useRef)(null),l=Object(o.useState)(!1),d=Object(a.a)(l,2),u=d[0],p=d[1],v=Object(o.useState)(!1),m=Object(a.a)(v,2),x=m[0],y=m[1],h={};if(!c){var f=function(){return p(!0)};h={onMouseOver:f,onFocus:f,onMouseLeave:function(){return p(!1)}}}var g=t.props,b=g.x,E=void 0===b?0:b,w=g.y,I=void 0===w?0:w,N=g.width,j=void 0===N?0:N,O=g.height,k=void 0===O?0:O,S=g.cx,B=g.cy,C=g.r;return S&&B&&C&&(E=S-C,I=B-C,j=2*C,k=2*C),Object(o.useEffect)((function(){y(!0)}),[s]),r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",Object.assign({x:E,y:I,width:j,height:k,viewBox:"".concat(E," ").concat(I," ").concat(j," ").concat(k)},h),r.a.createElement("foreignObject",{x:E,y:I,width:j,height:k},r.a.createElement("div",{ref:s,style:{width:"100%",height:"100%",visibility:"hidden"}}),x&&(u||c)&&s.current&&r.a.createElement(i.a,{align:{bottom:"top"},target:s.current,trapFocus:!1},n)),t))}},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),o=n.n(a),r=n(11),i=function(e){var t=e.x,n=e.y,a=e.id,i=e.isSelected,c=e.nodes,s=e.prevNodesIndexes,l=e.nextNodesIndexes,d=e.onClick,u=e.tooltip,p=e.showTooltip,v=e.searchString,m=!1,x=!1;i||(m=0===a||void 0!==s.find((function(e){return c[e].isSelected}))||void 0!==l.find((function(e){return c[e].isSelected}))),v&&(null===u||void 0===u?void 0:u.includes(v))&&(x=!0);var y=i||m;return o.a.createElement(o.a.Fragment,null,l.map((function(e){var r=c[e];return o.a.createElement("line",{x1:t,y1:n,z:100,x2:r.x,y2:r.y,stroke:i&&r.isSelected?"blue":"black",key:"".concat(a,"-").concat(r.id)})})),o.a.createElement("svg",{x:t-5,y:n-5,width:10,height:10,viewBox:"0 0 ".concat(10," ").concat(10),onClick:y?d:function(){},style:y?{cursor:"pointer"}:void 0},o.a.createElement(r.a,{tooltip:u||"",forceShow:p},o.a.createElement("circle",{cx:5,cy:5,r:2.5,fill:i?"blue":m?"green":"gray"})),x&&o.a.createElement("circle",{cx:5,cy:5,r:4,stroke:"red",fillOpacity:0})),o.a.createElement("svg",null))}},30:function(e,t){},31:function(e,t,n){"use strict";var a=n(29);n.d(t,"Node",(function(){return a.a}));n(11),n(30)},47:function(e,t,n){e.exports=n(60)},60:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),i=n.n(r),c=n(74),s=n(73),l=n(71),d=n(77),u=n(17),p=n(45),v=n(7),m=n(76),x=n(75),y=n(72),h=n(78),f={x:6,y:30},g=[{id:0,x:2,y:0,type:"stats",point:3,name:"\u5a01",value:5,prevNodesIndexes:[]},{id:1,x:4,y:2,type:"stats",point:3,name:"\u8010",value:5,prevNodesIndexes:[0]},{id:2,x:5,y:3,type:"stats",point:3,name:"\u79d8",value:5,prevNodesIndexes:[1]},{id:3,x:2,y:4,type:"stats",point:3,name:"\u8fd0",value:5,prevNodesIndexes:[1]},{id:4,x:1,y:5,type:"stats",point:3,name:"\u5168\u5c5e\u6027",value:3,prevNodesIndexes:[3]},{id:5,x:3,y:5,type:"stats",point:3,name:"\u654f",value:5,prevNodesIndexes:[2,3]},{id:6,x:3,y:7,type:"stats",point:3,name:"\u4e00\u8f6c",value:2,prevNodesIndexes:[5]},{id:7,x:5,y:7,type:"stats",point:3,name:"\u4e00\u8f6c",value:2,prevNodesIndexes:[2]},{id:8,x:6,y:8,type:"stats",point:3,name:"\u8fd0",value:5,prevNodesIndexes:[7]},{id:9,x:1,y:9,type:"stats",point:3,name:"\u8010",value:5,prevNodesIndexes:[6]},{id:10,x:3,y:9,type:"stats",point:3,name:"\u654f",value:5,prevNodesIndexes:[6]},{id:11,x:5,y:9,type:"stats",point:3,name:"\u5a01",value:5,prevNodesIndexes:[7]},{id:12,x:2,y:10,type:"stats",point:3,name:"\u666e\u653b",value:.07,prevNodesIndexes:[9,10]},{id:13,x:4,y:10,type:"stats",point:3,name:"\u8155\u529b",value:.5,prevNodesIndexes:[11]},{id:14,x:6,y:10,type:"stats",point:3,name:"\u79d8",value:5,prevNodesIndexes:[8]},{id:15,x:1,y:13,type:"special",point:3,name:"\u71c3\u70e7\u95f4\u9694-50%",prevNodesIndexes:[9]},{id:16,x:3,y:13,type:"stats",point:3,name:"\u4e8c\u8f6c",value:2,prevNodesIndexes:[14]},{id:17,x:2,y:14,type:"stats",point:3,name:"\u5168\u6297\u6027",value:.04,prevNodesIndexes:[]},{id:18,x:1,y:15,type:"stats",point:3,name:"\u4e8c\u8f6c",value:2,prevNodesIndexes:[15,17]},{id:19,x:3,y:15,type:"stats",point:3,name:"\u5168\u5c5e\u6027",value:3,prevNodesIndexes:[16]},{id:20,x:0,y:16,type:"skill",point:3,name:"\u751f\u547d\u7efd\u653e",prevNodesIndexes:[18]},{id:21,x:2,y:16,type:"stats",point:3,name:"\u66b4\u51fb\u7387",value:.05,prevNodesIndexes:[17,19]}],b=n(31);function E(){var e=Object(a.useState)(!1),t=Object(v.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(0),s=Object(v.a)(i,2),l=s[0],E=s[1],w=Object(a.useState)({}),I=Object(v.a)(w,2),N=I[0],j=I[1],O=o.a.useState(""),k=Object(v.a)(O,2),S=k[0],B=k[1],C=function(e){var t=20*e.x+20,n=10*e.y+10;return{width:t,height:n,viewBox:"-10 -5 ".concat(t," ").concat(n)}}(f),z=[],F=function(e){var t=e.type,n=e.name,a=e.value,o=void 0===a?0:a,r=e.description,i=void 0===r?"":r;return"stats"===t?"".concat(n,"+").concat(o>=1?o:"".concat(Math.round(100*o),"%")):"skill"===t?"".concat(n,"\n").concat(i):"".concat(n)};g.forEach((function(e){var t={id:e.id,isSelected:!1,x:20*e.x,y:C.height-10*e.y-20,point:e.point,name:e.name,value:e.value,description:e.description,tooltip:F(e),nextNodesIndexes:[],prevNodesIndexes:e.prevNodesIndexes};t.prevNodesIndexes.forEach((function(e){z[e].nextNodesIndexes.push(t.id)})),z.push(t)}));var M=Object(a.useState)(z),A=Object(v.a)(M,2),J=A[0],R=A[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{fill:!0,rows:["100%"],columns:["50%","50%"],gap:"small",areas:[{name:"nav",start:[0,0],end:[0,0]},{name:"main",start:[1,0],end:[1,0]}]},o.a.createElement(c.a,{gridArea:"nav",background:"light-5"},o.a.createElement(m.a,{fill:"horizontal",rows:["xxsmall"],columns:["45%","45%"],gap:"small",areas:[{name:"button1",start:[0,0],end:[0,0]},{name:"button2",start:[1,0],end:[1,0]}]},o.a.createElement(x.a,{gridArea:"button1",primary:!0,label:n?"\u5168\u90e8\u9690\u85cf":"\u5168\u90e8\u663e\u793a",onClick:function(){return r(!n)}}),o.a.createElement(x.a,{gridArea:"button2",fill:!1,primary:!0,label:"\u91cd\u7f6e",onClick:function(){return E(0),R(z),void j({})}})),o.a.createElement(y.a,{placeholder:"\u641c\u7d22\u661f\u56fe",value:S,onChange:function(e){return B(e.target.value)}}),o.a.createElement(d.a,{size:"none"},"\u9700\u8981\uff1a".concat(l,"\u661f\u56fe\u70b9")),Object.keys(N).map((function(e){var t=N[e];return void 0===t?o.a.createElement(h.a,{key:e},e):t>0?o.a.createElement(h.a,{key:e},"".concat(e,"+").concat(t>1?t:"".concat(Math.round(100*t),"%"))):null}))),o.a.createElement(c.a,{gridArea:"main",background:"light-2"},o.a.createElement("svg",{width:3*C.width,height:3*C.height,viewBox:C.viewBox},o.a.createElement("rect",{x:-10,y:-10,width:"100%",height:"100%",fill:"Cyan"}),J.map((function(e){return o.a.createElement(b.Node,Object.assign({},e,{onClick:function(){return function(e){var t=J[e],n=Object(p.a)(J);n.splice(e,1,Object(u.a)(Object(u.a)({},t),{},{isSelected:!t.isSelected})),E(l+(t.isSelected?-t.point:t.point)),R(n);var a=Object(u.a)({},N);a[t.name]&&t.value?a[t.name]=(a[t.name]||0)+(t.isSelected?-t.value:t.value):a[t.name]=t.value,j(a)}(e.id)},nodes:J,showTooltip:n,searchString:S,key:e.id}))}))))))}var w={global:{colors:{brand:"#228BE6"},font:{family:"Roboto",size:"18px",height:"20px"}}},I=function(e){return o.a.createElement(c.a,Object.assign({tag:"header",direction:"row",align:"center",justify:"between",background:"brand",pad:{left:"medium",right:"small",vertical:"small"},elevation:"medium",style:{zIndex:"1"}},e))};var N=function(){return o.a.createElement(s.a,{theme:w,full:!0},o.a.createElement(l.a.Consumer,null,(function(e){return o.a.createElement(c.a,{fill:!0},o.a.createElement(I,null,o.a.createElement(d.a,{level:"3",margin:"none"},"\u4e0d\u673d\u661f\u56fe\u6a21\u62df\u5668")),o.a.createElement(c.a,{direction:"row",flex:!0,overflow:{horizontal:"hidden"}},o.a.createElement(c.a,{flex:!0,align:"center",justify:"center"},o.a.createElement(E,null))))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.8ea1538b.chunk.js.map