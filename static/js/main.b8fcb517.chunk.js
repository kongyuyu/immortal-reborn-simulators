(this["webpackJsonpimmortal-reborn-simulators"]=this["webpackJsonpimmortal-reborn-simulators"]||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(7),s=n(0),i=n.n(s),o=n(61),d=function(e){var t=e.children,n=e.tooltip,d=e.forceShow,r=Object(s.useRef)(null),p=Object(s.useState)(!1),l=Object(a.a)(p,2),c=l[0],v=l[1],x=Object(s.useState)(!1),u=Object(a.a)(x,2),y=u[0],m=u[1],N={};if(!d){var I=function(){return v(!0)};N={onMouseOver:I,onFocus:I,onMouseLeave:function(){return v(!1)}}}var f=t.props,h=f.x,g=void 0===h?0:h,b=f.y,E=void 0===b?0:b,k=f.width,w=void 0===k?0:k,j=f.height,O=void 0===j?0:j,S=f.cx,B=f.cy,A=f.r;return S&&B&&A&&(g=S-A,E=B-A,w=2*A,O=2*A),Object(s.useEffect)((function(){m(!0)}),[r]),i.a.createElement(i.a.Fragment,null,i.a.createElement("svg",Object.assign({x:g,y:E,width:w,height:O,viewBox:"".concat(g," ").concat(E," ").concat(w," ").concat(O)},N),i.a.createElement("foreignObject",{x:g,y:E,width:w,height:O},i.a.createElement("div",{ref:r,style:{width:"100%",height:"100%",visibility:"hidden"}}),y&&(c||d)&&r.current&&i.a.createElement(o.a,{align:{bottom:"top"},target:r.current,trapFocus:!1},n)),t))}},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),s=n.n(a),i=n(12),o=function(e){var t=e.x,n=e.y,a=e.id,o=e.isSelected,d=e.nodes,r=e.prevNodesIndexes,p=e.nextNodesIndexes,l=e.onClick,c=e.tooltip,v=e.showTooltip,x=e.searchString,u=!1,y=!1;o||(u=0===a||void 0!==r.find((function(e){return d[e].isSelected}))||void 0!==p.find((function(e){return d[e].isSelected}))),x&&(null===c||void 0===c?void 0:c.includes(x))&&(y=!0);var m=o||u;return s.a.createElement(s.a.Fragment,null,p.map((function(e){var i=d[e];return s.a.createElement("line",{x1:t,y1:n,z:100,x2:i.x,y2:i.y,stroke:o&&i.isSelected?"blue":"black",key:"".concat(a,"-").concat(i.id)})})),s.a.createElement("svg",{x:t-5,y:n-5,width:10,height:10,viewBox:"0 0 ".concat(10," ").concat(10),onClick:m?l:function(){},style:m?{cursor:"pointer"}:void 0},s.a.createElement(i.a,{tooltip:c||"",forceShow:v},s.a.createElement("circle",{cx:5,cy:5,r:2.5,fill:o?"blue":u?"green":"gray"})),y&&s.a.createElement("circle",{cx:5,cy:5,r:4,stroke:"red",fillOpacity:0})),s.a.createElement("svg",null))}},30:function(e,t){},31:function(e,t,n){"use strict";var a=n(29);n.d(t,"Node",(function(){return a.a}));n(12),n(30)},47:function(e,t,n){e.exports=n(60)},60:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(8),o=n.n(i),d=n(74),r=n(73),p=n(71),l=n(77),c=n(10),v=n(45),x=n(7),u=n(76),y=n(75),m=n(72),N=n(78),I={x:6,y:48},f=[{id:0,x:2,y:0,type:"stats",point:1,name:"\u5a01",value:5,prevNodesIndexes:[]},{id:1,x:4,y:2,type:"stats",point:2,name:"\u8010",value:5,prevNodesIndexes:[0]},{id:2,x:5,y:3,type:"stats",point:2,name:"\u79d8",value:5,prevNodesIndexes:[1]},{id:3,x:2,y:4,type:"stats",point:2,name:"\u8fd0",value:5,prevNodesIndexes:[1]},{id:4,x:1,y:5,type:"stats",point:3,name:"\u5168\u5c5e\u6027",value:3,prevNodesIndexes:[3]},{id:5,x:3,y:5,type:"stats",point:2,name:"\u654f",value:5,prevNodesIndexes:[2,3]},{id:6,x:3,y:7,type:"stats",point:3,name:"\u4e00\u8f6c",value:2,prevNodesIndexes:[5]},{id:7,x:5,y:7,type:"stats",point:3,name:"\u4e00\u8f6c",value:2,prevNodesIndexes:[2]},{id:8,x:6,y:8,type:"stats",point:3,name:"\u8fd0",value:5,prevNodesIndexes:[7]},{id:9,x:1,y:9,type:"stats",point:3,name:"\u8010",value:5,prevNodesIndexes:[6]},{id:10,x:3,y:9,type:"stats",point:3,name:"\u654f",value:5,prevNodesIndexes:[6]},{id:11,x:5,y:9,type:"stats",point:3,name:"\u5a01",value:5,prevNodesIndexes:[7]},{id:12,x:2,y:10,type:"stats",point:3,name:"\u666e\u653b",value:.07,prevNodesIndexes:[9,10]},{id:13,x:4,y:10,type:"stats",point:3,name:"\u8155\u529b",value:.5,prevNodesIndexes:[11]},{id:14,x:6,y:10,type:"stats",point:3,name:"\u79d8",value:5,prevNodesIndexes:[8]},{id:15,x:1,y:13,type:"special",point:3,name:"\u71c3\u70e7\u95f4\u9694-50%",prevNodesIndexes:[9]},{id:16,x:3,y:13,type:"stats",point:3,name:"\u4e8c\u8f6c",value:2,prevNodesIndexes:[14]},{id:17,x:2,y:14,type:"stats",point:3,name:"\u5168\u6297\u6027",value:.04,prevNodesIndexes:[]},{id:18,x:1,y:15,type:"stats",point:3,name:"\u4e8c\u8f6c",value:2,prevNodesIndexes:[15,17]},{id:19,x:3,y:15,type:"stats",point:3,name:"\u5168\u5c5e\u6027",value:3,prevNodesIndexes:[16]},{id:20,x:0,y:16,type:"skill",point:3,name:"\u751f\u547d\u7efd\u653e",prevNodesIndexes:[18]},{id:21,x:2,y:16,type:"stats",point:3,name:"\u66b4\u51fb\u7387",value:.05,prevNodesIndexes:[17,19]},{id:22,x:1,y:17,type:"stats",point:3,name:"\u5a01",value:5,prevNodesIndexes:[20]},{id:23,x:5,y:17,type:"stats",point:3,name:"\u4e00\u8f6c",value:2,prevNodesIndexes:[]},{id:24,x:2,y:18,type:"stats",point:3,name:"\u79d8",value:5,prevNodesIndexes:[22]},{id:25,x:6,y:18,type:"special",point:3,name:"\u4e2d\u6bd2\u6548\u679c\u7ffb\u500d",prevNodesIndexes:[]},{id:26,x:1,y:19,type:"skill",point:3,name:"\u7075\u9b42\u5c04\u7ebf",prevNodesIndexes:[]},{id:27,x:5,y:19,type:"stats",point:3,name:"\u654f",value:5,prevNodesIndexes:[21,23,25]},{id:28,x:0,y:20,type:"stats",point:3,name:"\u6697\u4f24",value:.05,prevNodesIndexes:[26]},{id:29,x:2,y:20,type:"stats",point:3,name:"\u5168\u5c5e\u6027",value:3,prevNodesIndexes:[24,26]},{id:30,x:1,y:21,type:"stats",point:3,name:"\u5168\u4f24",value:.05,prevNodesIndexes:[28,29]},{id:31,x:3,y:21,type:"stats",point:3,name:"\u8fd0",value:5,prevNodesIndexes:[29]},{id:32,x:5,y:21,type:"skill",point:3,name:"\u6df7\u5143\u76fe",prevNodesIndexes:[27]},{id:33,x:4,y:22,type:"stats",point:3,name:"\u751f\u547d\u5438\u53d6",value:.04,prevNodesIndexes:[31]},{id:34,x:1,y:23,type:"stats",point:3,name:"\u653b\u901f",value:.1,prevNodesIndexes:[30]},{id:35,x:3,y:23,type:"stats",point:3,name:"\u666e\u653b",value:.07,prevNodesIndexes:[33]},{id:36,x:5,y:23,type:"stats",point:3,name:"\u8010",value:5,prevNodesIndexes:[32,33]},{id:37,x:0,y:24,type:"special",point:3,name:"\u6d41\u8840\u6548\u679c\u7ffb\u500d",prevNodesIndexes:[34]},{id:38,x:4,y:24,type:"stats",point:3,name:"\u683c\u6321\u7387",value:.05,prevNodesIndexes:[35,36]},{id:39,x:6,y:24,type:"stats",point:3,name:"\u4e8c\u8f6c",value:2,prevNodesIndexes:[36]},{id:40,x:1,y:25,type:"stats",point:3,name:"\u706b\u4f24",value:.05,prevNodesIndexes:[34]},{id:41,x:0,y:26,type:"stats",point:3,name:"\u7269\u4f24",value:.05,prevNodesIndexes:[37]},{id:42,x:2,y:26,type:"stats",point:3,name:"\u751f\u547d",value:.05,prevNodesIndexes:[40]},{id:43,x:4,y:26,type:"skill",point:3,name:"\u8d85\u91cd\u51fb",prevNodesIndexes:[38]},{id:44,x:6,y:26,type:"skill",point:3,name:"\u6c34\u5143\u7d20",prevNodesIndexes:[]},{id:45,x:1,y:27,type:"skill",point:3,name:"\u5929\u4f53\u9668\u843d",prevNodesIndexes:[41,42]},{id:46,x:2,y:28,type:"stats",point:3,name:"\u4e09\u8f6c",value:2,prevNodesIndexes:[45]},{id:47,x:4,y:28,type:"stats",point:3,name:"\u653b\u51fb|\u53ec\u5524\u589e\u5e45",value:.05,prevNodesIndexes:[43]},{id:48,x:6,y:28,type:"stats",point:3,name:"\u66b4\u51fb\u6548\u679c",value:.1,prevNodesIndexes:[44]},{id:49,x:3,y:29,type:"skill",point:3,name:"\u80dc\u5229\u9f13\u821e",prevNodesIndexes:[46,47]},{id:50,x:5,y:29,type:"stats",point:3,name:"\u4e09\u8f6c",value:2,prevNodesIndexes:[47,48]},{id:51,x:4,y:30,type:"stats",point:3,name:"\u5149\u4f24",value:.05,prevNodesIndexes:[49,50]},{id:52,x:1,y:31,type:"stats",point:3,name:"\u8010",value:5,prevNodesIndexes:[49]},{id:53,x:3,y:31,type:"stats",point:3,name:"\u5168\u6297",value:.08,prevNodesIndexes:[]},{id:54,x:5,y:31,type:"stats",point:3,name:"\u654f",value:5,prevNodesIndexes:[50]},{id:55,x:0,y:32,type:"stats",point:3,name:"\u51b0\u4f24",value:.05,prevNodesIndexes:[52]},{id:56,x:4,y:32,type:"stats",point:3,name:"\u62a4\u7532",value:.05,prevNodesIndexes:[53,54]},{id:57,x:1,y:33,type:"skill",point:3,name:"\u94fe\u94a9",prevNodesIndexes:[52,55]},{id:58,x:3,y:33,type:"skill",point:3,name:"\u51c0\u4e16\u4e4b\u5149",prevNodesIndexes:[]},{id:59,x:5,y:33,type:"stats",point:3,name:"\u5a01",value:5,prevNodesIndexes:[]},{id:60,x:2,y:34,type:"stats",point:3,name:"\u5149\u4f24|\u5149\u6297",value:.05,prevNodesIndexes:[58]},{id:61,x:4,y:34,type:"stats",point:3,name:"\u4e09\u8f6c",value:2,prevNodesIndexes:[59]},{id:62,x:6,y:34,type:"stats",point:3,name:"\u968f\u4ece\u653b\u901f",value:.1,prevNodesIndexes:[48,59]},{id:63,x:1,y:35,type:"stats",point:3,name:"\u7269\u4f24|\u7269\u6297",value:.05,prevNodesIndexes:[57]},{id:64,x:3,y:35,type:"stats",point:3,name:"\u7edd\u95ea",value:.08,prevNodesIndexes:[60,61]},{id:65,x:0,y:36,type:"stats",point:3,name:"\u56db\u8f6c",value:2,prevNodesIndexes:[63]},{id:66,x:2,y:36,type:"stats",point:3,name:"\u5168\u5c5e\u6027",value:3,prevNodesIndexes:[64]},{id:67,x:6,y:36,type:"stats",point:3,name:"\u79d8",value:5,prevNodesIndexes:[62]},{id:68,x:1,y:37,type:"stats",point:3,name:"\u66b4\u51fb\u7387|\u66b4\u51fb\u6548\u679c",value:.05,prevNodesIndexes:[63]},{id:69,x:5,y:37,type:"stats",point:3,name:"\u56db\u8f6c",value:2,prevNodesIndexes:[67]},{id:70,x:2,y:38,type:"stats",point:3,name:"\u51b0\u4f24|\u51b0\u6297",value:.05,prevNodesIndexes:[66]},{id:71,x:4,y:38,type:"stats",point:3,name:"\u5a01",value:5,prevNodesIndexes:[69]},{id:72,x:6,y:38,type:"stats",point:3,name:"\u6697\u4f24|\u6697\u6297",value:.05,prevNodesIndexes:[67]},{id:73,x:3,y:39,type:"stats",point:3,name:"\u751f\u547d\u5438\u53d6|\u5168\u4f24",value:.04,prevNodesIndexes:[70,71]},{id:74,x:5,y:39,type:"skill",point:3,name:"\u571f\u5143\u7d20",prevNodesIndexes:[]},{id:75,x:0,y:40,type:"stats",point:3,name:"\u8fd0",value:5,prevNodesIndexes:[65,70]},{id:76,x:6,y:40,type:"stats",point:3,name:"\u8010",value:5,prevNodesIndexes:[72,74]},{id:77,x:1,y:41,type:"skill",point:3,name:"\u8f6e\u56de\u773c",prevNodesIndexes:[75]},{id:78,x:3,y:41,type:"stats",point:3,name:"\u706b\u4f24|\u706b\u7095",value:.05,prevNodesIndexes:[73]},{id:79,x:5,y:41,type:"stats",point:3,name:"\u79d8",value:5,prevNodesIndexes:[]},{id:80,x:4,y:42,type:"stats",point:3,name:"\u5168\u5c5e\u6027|\u683c\u6321\u7387",value:.1,prevNodesIndexes:[78,79]},{id:81,x:6,y:42,type:"skill",point:3,name:"\u5171\u751f",prevNodesIndexes:[79]},{id:82,x:1,y:43,type:"stats",point:3,name:"\u751f\u547d\u5438\u53d6",value:.04,prevNodesIndexes:[78]},{id:83,x:3,y:43,type:"stats",point:3,name:"\u654f",value:5,prevNodesIndexes:[78]},{id:84,x:5,y:43,type:"stats",point:3,name:"\u8fd0",value:5,prevNodesIndexes:[80]},{id:85,x:2,y:44,type:"stats",point:3,name:"\u683c\u6321\u7387|\u683c\u6321\u6548\u679c",value:.05,prevNodesIndexes:[82,83]},{id:86,x:1,y:45,type:"skill",point:3,name:"\u98ce\u606f",prevNodesIndexes:[82]},{id:87,x:3,y:45,type:"skill",point:3,name:"\u6280\u80fd\u632f\u5e45",prevNodesIndexes:[84]},{id:88,x:5,y:45,type:"stats",point:3,name:"\u51b7\u5374\u6062\u590d",value:.08,prevNodesIndexes:[84]},{id:89,x:4,y:46,type:"stats",point:3,name:"\u56db\u8f6c",value:2,prevNodesIndexes:[87,88]}],h=n(31);function g(){var e=Object(a.useState)(!1),t=Object(x.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(0),r=Object(x.a)(o,2),p=r[0],g=r[1],b=Object(a.useState)({}),E=Object(x.a)(b,2),k=E[0],w=E[1],j=Object(a.useState)(""),O=Object(x.a)(j,2),S=O[0],B=O[1],A=Object(a.useState)(""),C=Object(x.a)(A,2),M=C[0],z=C[1];Object(a.useEffect)((function(){var e=window.location.href.split("?"),t=e[1];t&&($(t),window.history.pushState("some state","some title",e[0]))}));var F=function(e){var t=20*e.x+20,n=10*e.y+10;return{width:t,height:n,viewBox:"-10 -5 ".concat(t," ").concat(n)}}(I),T=[],J=function(e){var t=e.type,n=e.name,a=e.value,s=void 0===a?0:a,i=e.description,o=void 0===i?"":i;return"stats"===t?"".concat(n,"+").concat(s>=1?s:"".concat(Math.round(100*s),"%")):"skill"===t?"".concat(n,"\n").concat(o):"".concat(n)};f.forEach((function(e){var t={id:e.id,isSelected:!1,x:20*e.x,y:F.height-10*e.y-20,point:e.point,name:e.name,value:e.value,description:e.description,tooltip:J(e),nextNodesIndexes:[],prevNodesIndexes:e.prevNodesIndexes};t.prevNodesIndexes.forEach((function(e){T[e].nextNodesIndexes.push(t.id)})),T.push(t)}));var R=Object(a.useState)(T),W=Object(x.a)(R,2),D=W[0],L=W[1],$=function(e){var t=[].concat(T),n=0,a={};(e||M).split("-").forEach((function(e){var s=parseInt(e);if(!isNaN(s)&&s<t.length){var i=t[s];t.splice(s,1,Object(c.a)(Object(c.a)({},i),{},{isSelected:!i.isSelected})),n+=i.isSelected?-i.point:i.point,a[i.name]&&i.value?a[i.name]=(a[i.name]||0)+(i.isSelected?-i.value:i.value):a[i.name]=i.value}})),g(n),L(t),w(a),z("")},q=function(){var e="";return D.forEach((function(t){t.isSelected&&(e+=0===t.id?t.id:"".concat("-").concat(t.id))})),e};return s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{fill:!0,rows:["100%"],columns:["50%","50%"],gap:"small",areas:[{name:"stats",start:[0,0],end:[0,0]},{name:"starMap",start:[1,0],end:[1,0]}]},s.a.createElement(d.a,{gridArea:"stats",pad:"10px",background:"light-5"},s.a.createElement(u.a,{fill:"horizontal",rows:["xxsmall","xxsmall","xxsmall","xxsmall"],columns:["22%","22%","22%","22%"],gap:"small",areas:[{name:"showAll",start:[2,0],end:[2,0]},{name:"resetAll",start:[3,0],end:[3,0]},{name:"importString",start:[0,1],end:[2,1]},{name:"importButton",start:[3,1],end:[3,1]},{name:"currentBuild",start:[0,2],end:[2,2]},{name:"exportButton",start:[3,2],end:[3,2]},{name:"searchBar",start:[0,3],end:[3,3]}]},s.a.createElement(y.a,{gridArea:"showAll",primary:!0,label:n?"\u5168\u90e8\u9690\u85cf":"\u5168\u90e8\u663e\u793a",onClick:function(){return i(!n)}}),s.a.createElement(y.a,{gridArea:"resetAll",fill:!1,primary:!0,label:"\u91cd\u7f6e",onClick:function(){return g(0),L(T),void w({})}}),s.a.createElement(d.a,{gridArea:"importString",background:"light-5"},s.a.createElement(m.a,{placeholder:"\u5bfc\u5165BD\u7684\u661f\u56fe\u70b9",value:M,onChange:function(e){z(e.target.value)}})),s.a.createElement(y.a,{gridArea:"importButton",fill:!1,primary:!0,label:"\u5bfc\u5165",onClick:function(){return $()}}),s.a.createElement(d.a,{gridArea:"currentBuild",background:"light-5"},s.a.createElement(m.a,{disabled:!0,placeholder:"\u73b0\u5728\u7684\u661f\u56fe\u70b9",value:q()})),s.a.createElement(y.a,{gridArea:"exportButton",fill:!1,primary:!0,label:"\u5bfc\u51fa\u94fe\u63a5",onClick:function(){var e="".concat(window.location.href).concat("?").concat(q());navigator.clipboard.writeText(e).then((function(){return alert("\u94fe\u63a5\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f\uff0c\u8bf7\u7c98\u8d34\u4f7f\u7528\n".concat(e))}))}}),s.a.createElement(d.a,{gridArea:"searchBar",background:"light-5"},s.a.createElement(m.a,{placeholder:"\u641c\u7d22\u661f\u56fe",value:S,onChange:function(e){return B(e.target.value)}}))),s.a.createElement(l.a,{size:"none"},"\u9700\u8981\uff1a".concat(p,"\u661f\u56fe\u70b9")),Object.keys(k).map((function(e){var t=k[e];return void 0===t?s.a.createElement(N.a,{key:e},e):t>0?s.a.createElement(N.a,{key:e},"".concat(e,"+").concat(t>1?t:"".concat(Math.round(100*t),"%"))):null}))),s.a.createElement(d.a,{gridArea:"starMap",background:"light-2"},s.a.createElement("svg",{width:"100%",viewBox:F.viewBox},s.a.createElement("rect",{x:-10,y:-5,width:"100%",height:"100%",fill:"Cyan"}),D.map((function(e){return s.a.createElement(h.Node,Object.assign({},e,{onClick:function(){return function(e){var t=D[e],n=Object(v.a)(D);n.splice(e,1,Object(c.a)(Object(c.a)({},t),{},{isSelected:!t.isSelected})),g(p+(t.isSelected?-t.point:t.point)),L(n);var a=Object(c.a)({},k);a[t.name]&&t.value?a[t.name]=(a[t.name]||0)+(t.isSelected?-t.value:t.value):a[t.name]=t.value,w(a)}(e.id)},nodes:D,showTooltip:n,searchString:S,key:e.id}))}))))))}var b={global:{colors:{brand:"#228BE6"},font:{family:"Roboto",size:"18px",height:"20px"}}},E=function(e){return s.a.createElement(d.a,Object.assign({tag:"header",direction:"row",align:"center",justify:"between",background:"brand",pad:{left:"medium",right:"small",vertical:"small"},elevation:"medium",style:{zIndex:"1"}},e))};var k=function(){return s.a.createElement(r.a,{theme:b,full:!0},s.a.createElement(p.a.Consumer,null,(function(e){return s.a.createElement(d.a,{fill:!0},s.a.createElement(E,null,s.a.createElement(l.a,{level:"3",margin:"none"},"\u4e0d\u673d\u661f\u56fe\u6a21\u62df\u5668")),s.a.createElement(d.a,{direction:"row",flex:!0,overflow:{horizontal:"hidden"}},s.a.createElement(d.a,{flex:!0,align:"center",justify:"center"},s.a.createElement(g,null))))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.b8fcb517.chunk.js.map