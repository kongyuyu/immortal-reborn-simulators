{"version":3,"sources":["talent-simulator/components/SvgTooltip.tsx","talent-simulator/components/Node.tsx","talent-simulator/components/index.ts","talent-simulator/Constants.ts","talent-simulator/TalentSimulator.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["SvgTooltip","children","tooltip","forceShow","target","useRef","useState","showTooltip","setShowTooltip","targetReady","setTargetReady","listeners","mouseOver","onMouseOver","onFocus","onMouseLeave","props","x","y","width","height","cx","cy","r","useEffect","viewBox","ref","style","visibility","current","align","top","Node","id","point","isSelected","nodes","prevNodesIndexes","nextNodesIndexes","onClick","searchString","remindPoints","isOpen","isFound","undefined","find","nodeIndex","includes","isClickable","map","nextNode","x1","y1","z","x2","y2","stroke","key","circleRadius","cursor","fill","fillOpacity","MAX_VALUE","NODES","type","name","value","description","TalentSimulator","showAllTooltip","setShowAllTooltip","totalPoints","setTotalPoints","summary","setSummary","setsearchString","imporBuildString","setImportBuildString","towerLevel","setTowerLevel","pathParts","window","location","href","split","buildString","importBuild","history","pushState","size","maxValue","getSize","initialNodes","getTooltip","Math","round","forEach","NODE","node","push","setNodes","_nodes","_totalPoints","_summary","indexString","index","parseInt","isNaN","length","_node","splice","getBuild","Grid","rows","columns","gap","areas","start","end","Box","gridArea","pad","background","Button","primary","label","TextInput","placeholder","onChange","event","disabled","link","navigator","clipboard","writeText","then","alert","Heading","max","Object","keys","Text","theme","global","colors","brand","font","family","AppBar","tag","direction","justify","left","right","vertical","elevation","zIndex","App","Grommet","full","ResponsiveContext","Consumer","level","margin","flex","overflow","horizontal","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.efcc9422.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Drop } from 'grommet';\n\nexport interface SvgTooltipProps {\n  /**\n   * Should be a single svg element that tooltip attaches to.\n   * Currently only support child that has width and height.\n   * If x, y omitted would assume x = 0 and y = 0.\n   */\n  children: JSX.Element;\n  /** Tooltip to be displayed upon mouse hover */\n  tooltip: string | JSX.Element;\n  /** Force to show the tooltip without mouse over */\n  forceShow?: boolean;\n}\n\nexport const SvgTooltip = ({ children, tooltip, forceShow }: SvgTooltipProps) => {\n  const target = useRef(null) as React.MutableRefObject<HTMLDivElement | null>;\n  const [showTooltip, setShowTooltip] = useState(false);\n  const [targetReady, setTargetReady] = useState(false);\n\n  let listeners = {};\n  if (!forceShow) {\n    const mouseOver = () => setShowTooltip(true);\n    const mouseLeave = () => setShowTooltip(false);\n    listeners = {\n      onMouseOver: mouseOver,\n      onFocus: mouseOver,\n      onMouseLeave: mouseLeave,\n    };\n  }\n\n  let { x = 0, y = 0, width = 0, height = 0, cx, cy, r } = children.props;\n\n  if (!!cx && !!cy && !!r) {\n    x = cx - r;\n    y = cy - r;\n    width = 2 * r;\n    height = 2 * r;\n  }\n\n  // To fix the issue when target ref is not ready on the first rendering\n  // Rerender after target ref is ready\n  // https://stackoverflow.com/questions/56541342/react-hooks-why-is-current-null-for-useref-hook\n  useEffect(() => {\n    setTargetReady(true);\n  }, [target]);\n\n  return (\n    <>\n      <svg x={x} y={y} width={width} height={height} viewBox={`${x} ${y} ${width} ${height}`} {...listeners}>\n        <foreignObject x={x} y={y} width={width} height={height}>\n          {/* since tooltip could not pin to svg elements, using a invisible div here to provide a placeholder for tooltip to pin to */}\n          <div ref={target} style={{ width: '100%', height: '100%', visibility: 'hidden' }} />\n          {/* Due to grommet limitation, using grommet component may cause error when either  */}\n          {/* 1. not wrapped within an AppContainer or  */}\n          {/* 2. somehow top level AppContainer is rendered after some grommet component; */}\n          {/* therefore, adding a local AppContainer to workaround this potential issue */}\n          {targetReady && (showTooltip || forceShow) && target.current && (\n            <Drop align={{ top: 'bottom' }} target={target.current}>\n              {tooltip}\n            </Drop>\n          )}\n        </foreignObject>\n        {/* target svg component needs to be at end so it would not be covered by the placeholder div */}\n        {children}\n      </svg>\n    </>\n  );\n};\n","import React from 'react';\n\nimport { SvgTooltip } from './SvgTooltip';\n\nimport { NodeType } from './types';\n\nexport interface NodeProps extends Omit<NodeType, 'id'> {\n  onClick: () => void;\n  showTooltip?: boolean;\n  [otherProp: string]: any;\n}\n\nexport const Node = ({\n  x,\n  y,\n  id,\n  point,\n  isSelected,\n  nodes,\n  prevNodesIndexes,\n  nextNodesIndexes,\n  onClick,\n  tooltip,\n  showTooltip,\n  searchString,\n  remindPoints,\n}: NodeProps) => {\n  const circleRadius = 2.5;\n  const sideLength = circleRadius * 4;\n\n  let isOpen = false;\n  let isFound = false;\n\n  const hasMorePoints = remindPoints >= point;\n\n  if (!isSelected) {\n    isOpen =\n      hasMorePoints &&\n      (id === 0 ||\n        prevNodesIndexes.find(nodeIndex => nodes[nodeIndex].isSelected) !== undefined ||\n        nextNodesIndexes.find(nodeIndex => nodes[nodeIndex].isSelected) !== undefined);\n  }\n\n  // TODO: Search should be done with special search key word string\n  // so the compound node could be found correctly\n  if (searchString && tooltip?.includes(searchString)) {\n    isFound = true;\n  }\n\n  const isClickable = isSelected || isOpen;\n\n  return (\n    <>\n      {nextNodesIndexes.map(nodeIndex => {\n        const nextNode = nodes[nodeIndex];\n        return (\n          <line\n            x1={x}\n            y1={y}\n            z={100}\n            x2={nextNode.x}\n            y2={nextNode.y}\n            stroke={isSelected && nextNode.isSelected ? 'blue' : 'LightGrey'}\n            key={`${id}-${nextNode.id}`}></line>\n        );\n      })}\n      <svg\n        x={x - circleRadius * 2}\n        y={y - circleRadius * 2}\n        width={sideLength}\n        height={sideLength}\n        viewBox={`0 0 ${sideLength} ${sideLength}`}\n        onClick={isClickable ? onClick : () => {}}\n        style={isClickable ? { cursor: 'pointer' } : undefined}>\n        <SvgTooltip tooltip={tooltip || ''} forceShow={showTooltip}>\n          <circle\n            cx={circleRadius * 2}\n            cy={circleRadius * 2}\n            r={circleRadius}\n            fill={isSelected ? 'blue' : isOpen ? 'green' : 'LightGrey'}></circle>\n        </SvgTooltip>\n        {isFound && <circle cx={circleRadius * 2} cy={circleRadius * 2} r={4} stroke={'red'} fillOpacity={0}></circle>}\n      </svg>\n      <svg></svg>\n    </>\n  );\n};\n","export { Node } from './Node';\nexport { SvgTooltip } from './SvgTooltip';\nexport * from './types';\n","// export const  = {\n//   skill\n// }\n\n// const getRange = (min: number, max: number, step?: number = 1) =>\n//   Array.from(new Array(max > min ? Math.ceil((max - min) / step) : Math.ceil((min - max) / step)), (x, i) =>\n//     max > min ? i * step + min : min - i * step\n//   ).join(' | ');\n\n// explained at https://rares.uk/typescript-unextend-interface/\nexport type Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>;\n\nexport const MAX_VALUE = {\n  x: 6,\n  y: 48,\n};\n\nexport type NodeTypeType = 'stats' | 'skill' | 'special';\n\nexport type NODEType = {\n  id: number;\n  x: number;\n  y: number;\n  type: NodeTypeType;\n  point: 1 | 2 | 3 | 4 | 5;\n  name: string;\n  value?: number;\n  description?: string;\n  prevNodesIndexes: number[];\n};\n\nexport type NODESType = NODEType[];\n\nexport const NODES: NODESType = [\n  {\n    id: 0,\n    x: 2,\n    y: 0,\n    type: 'stats',\n    point: 1,\n    name: '威',\n    value: 5,\n    prevNodesIndexes: [],\n  },\n  {\n    id: 1,\n    x: 4,\n    y: 2,\n    type: 'stats',\n    point: 2,\n    name: '耐',\n    value: 5,\n    prevNodesIndexes: [0],\n  },\n  {\n    id: 2,\n    x: 5,\n    y: 3,\n    type: 'stats',\n    point: 2,\n    name: '秘',\n    value: 5,\n    prevNodesIndexes: [1],\n  },\n  {\n    id: 3,\n    x: 2,\n    y: 4,\n    type: 'stats',\n    point: 2,\n    name: '运',\n    value: 5,\n    prevNodesIndexes: [1],\n  },\n  {\n    id: 4,\n    x: 1,\n    y: 5,\n    type: 'stats',\n    point: 3,\n    name: '全属性',\n    value: 3,\n    prevNodesIndexes: [3],\n  },\n  {\n    id: 5,\n    x: 3,\n    y: 5,\n    type: 'stats',\n    point: 2,\n    name: '敏',\n    value: 5,\n    prevNodesIndexes: [2, 3],\n  },\n  {\n    id: 6,\n    x: 3,\n    y: 7,\n    type: 'stats',\n    point: 3,\n    name: '一转',\n    value: 2,\n    prevNodesIndexes: [5],\n  },\n  {\n    id: 7,\n    x: 5,\n    y: 7,\n    type: 'stats',\n    point: 3,\n    name: '一转',\n    value: 2,\n    prevNodesIndexes: [2],\n  },\n  {\n    id: 8,\n    x: 6,\n    y: 8,\n    type: 'stats',\n    point: 3,\n    name: '运',\n    value: 5,\n    prevNodesIndexes: [7],\n  },\n  {\n    id: 9,\n    x: 1,\n    y: 9,\n    type: 'stats',\n    point: 3,\n    name: '耐',\n    value: 5,\n    prevNodesIndexes: [6],\n  },\n  {\n    id: 10,\n    x: 3,\n    y: 9,\n    type: 'stats',\n    point: 3,\n    name: '敏',\n    value: 5,\n    prevNodesIndexes: [6],\n  },\n  {\n    id: 11,\n    x: 5,\n    y: 9,\n    type: 'stats',\n    point: 3,\n    name: '威',\n    value: 5,\n    prevNodesIndexes: [7],\n  },\n  {\n    id: 12,\n    x: 2,\n    y: 10,\n    type: 'stats',\n    point: 3,\n    name: '普攻',\n    value: 0.07,\n    prevNodesIndexes: [9, 10],\n  },\n  {\n    id: 13,\n    x: 4,\n    y: 10,\n    type: 'stats',\n    point: 3,\n    name: '腕力',\n    value: 0.5,\n    prevNodesIndexes: [11],\n  },\n  {\n    id: 14,\n    x: 6,\n    y: 10,\n    type: 'stats',\n    point: 3,\n    name: '秘',\n    value: 5,\n    prevNodesIndexes: [8],\n  },\n  {\n    id: 15,\n    x: 1,\n    y: 13,\n    type: 'special',\n    point: 4,\n    name: '燃烧间隔-50%',\n    prevNodesIndexes: [9],\n  },\n  {\n    id: 16,\n    x: 3,\n    y: 13,\n    type: 'stats',\n    point: 3,\n    name: '二转',\n    value: 2,\n    prevNodesIndexes: [14],\n  },\n  {\n    id: 17,\n    x: 2,\n    y: 14,\n    type: 'stats',\n    point: 3,\n    name: '全抗性',\n    value: 0.04,\n    prevNodesIndexes: [],\n  },\n  {\n    id: 18,\n    x: 1,\n    y: 15,\n    type: 'stats',\n    point: 3,\n    name: '二转',\n    value: 2,\n    prevNodesIndexes: [15, 17],\n  },\n  {\n    id: 19,\n    x: 3,\n    y: 15,\n    type: 'stats',\n    point: 3,\n    name: '全属性',\n    value: 3,\n    prevNodesIndexes: [16],\n  },\n  {\n    id: 20,\n    x: 0,\n    y: 16,\n    type: 'skill',\n    point: 5,\n    name: '生命绽放',\n    description: '使角色持续5秒每秒恢复生命，持续时间内受到的伤害降低40%。\\n每秒恢复：角色攻击57.4%点生命值。',\n    prevNodesIndexes: [18],\n  },\n  {\n    id: 21,\n    x: 2,\n    y: 16,\n    type: 'stats',\n    point: 3,\n    name: '暴击率',\n    value: 0.05,\n    prevNodesIndexes: [17, 19],\n  },\n  {\n    id: 22,\n    x: 1,\n    y: 17,\n    type: 'stats',\n    point: 3,\n    name: '威',\n    value: 5,\n    prevNodesIndexes: [20],\n  },\n  {\n    id: 23,\n    x: 5,\n    y: 17,\n    type: 'stats',\n    point: 3,\n    name: '一转',\n    value: 2,\n    prevNodesIndexes: [],\n  },\n  {\n    id: 24,\n    x: 2,\n    y: 18,\n    type: 'stats',\n    point: 3,\n    name: '秘',\n    value: 5,\n    prevNodesIndexes: [22],\n  },\n  {\n    id: 25,\n    x: 6,\n    y: 18,\n    type: 'special',\n    point: 4,\n    name: '中毒效果翻倍',\n    prevNodesIndexes: [],\n  },\n  {\n    id: 26,\n    x: 1,\n    y: 19,\n    type: 'skill',\n    point: 5,\n    name: '灵魂射线',\n    description: '随机对多个目标进行攻击，造成暗属性伤害，距离越远攻击目标越多。\\n暗属性伤害：主手基础伤害205.0%+315点',\n    prevNodesIndexes: [],\n  },\n  {\n    id: 27,\n    x: 5,\n    y: 19,\n    type: 'stats',\n    point: 3,\n    name: '敏',\n    value: 5,\n    prevNodesIndexes: [21, 23, 25],\n  },\n  {\n    id: 28,\n    x: 0,\n    y: 20,\n    type: 'stats',\n    point: 3,\n    name: '暗伤',\n    value: 0.05,\n    prevNodesIndexes: [26],\n  },\n  {\n    id: 29,\n    x: 2,\n    y: 20,\n    type: 'stats',\n    point: 3,\n    name: '全属性',\n    value: 3,\n    prevNodesIndexes: [24, 26],\n  },\n  {\n    id: 30,\n    x: 1,\n    y: 21,\n    type: 'stats',\n    point: 3,\n    name: '全伤',\n    value: 0.05,\n    prevNodesIndexes: [28, 29],\n  },\n  {\n    id: 31,\n    x: 3,\n    y: 21,\n    type: 'stats',\n    point: 3,\n    name: '运',\n    value: 5,\n    prevNodesIndexes: [29],\n  },\n  {\n    id: 32,\n    x: 5,\n    y: 21,\n    type: 'skill',\n    point: 5,\n    name: '混元盾',\n    description: '角色立即获得护盾，还将获得1层圣盾，圣盾可抵挡1次攻击。\\n护盾：相当于生命上限的8.6%。',\n    prevNodesIndexes: [27],\n  },\n  {\n    id: 33,\n    x: 4,\n    y: 22,\n    type: 'stats',\n    point: 3,\n    name: '生命吸取',\n    value: 0.04,\n    prevNodesIndexes: [31],\n  },\n  {\n    id: 34,\n    x: 1,\n    y: 23,\n    type: 'stats',\n    point: 3,\n    name: '攻速',\n    value: 0.1,\n    prevNodesIndexes: [30],\n  },\n  {\n    id: 35,\n    x: 3,\n    y: 23,\n    type: 'stats',\n    point: 3,\n    name: '普攻',\n    value: 0.07,\n    prevNodesIndexes: [33],\n  },\n  {\n    id: 36,\n    x: 5,\n    y: 23,\n    type: 'stats',\n    point: 3,\n    name: '耐',\n    value: 5,\n    prevNodesIndexes: [32, 33],\n  },\n  {\n    id: 37,\n    x: 0,\n    y: 24,\n    type: 'special',\n    point: 4,\n    name: '流血效果翻倍',\n    prevNodesIndexes: [34],\n  },\n  {\n    id: 38,\n    x: 4,\n    y: 24,\n    type: 'stats',\n    point: 3,\n    name: '格挡率',\n    value: 0.05,\n    prevNodesIndexes: [35, 36],\n  },\n  {\n    id: 39,\n    x: 6,\n    y: 24,\n    type: 'stats',\n    point: 3,\n    name: '二转',\n    value: 2,\n    prevNodesIndexes: [36],\n  },\n  {\n    id: 40,\n    x: 1,\n    y: 25,\n    type: 'stats',\n    point: 3,\n    name: '火伤',\n    value: 0.05,\n    prevNodesIndexes: [34],\n  },\n  {\n    id: 41,\n    x: 0,\n    y: 26,\n    type: 'stats',\n    point: 3,\n    name: '物伤',\n    value: 0.05,\n    prevNodesIndexes: [37],\n  },\n  {\n    id: 42,\n    x: 2,\n    y: 26,\n    type: 'stats',\n    point: 3,\n    name: '生命',\n    value: 0.05,\n    prevNodesIndexes: [40],\n  },\n  {\n    id: 43,\n    x: 4,\n    y: 26,\n    type: 'skill',\n    point: 5,\n    name: '超重击',\n    description: '对3目标进行攻击，造成物理伤害；超重击冷却时间受主武器影响。\\n物理伤害：主手基础伤害133.3%+205点。',\n    prevNodesIndexes: [38],\n  },\n  {\n    id: 44,\n    x: 6,\n    y: 26,\n    type: 'skill',\n    point: 5,\n    name: '水元素',\n    description: '身前召唤，水元素普攻对单体造成冰属性伤害。\\n冰属性伤害：自身基础伤害307.5%+473点。',\n    prevNodesIndexes: [],\n  },\n  {\n    id: 45,\n    x: 1,\n    y: 27,\n    type: 'skill',\n    point: 5,\n    name: '天体陨落',\n    description:\n      '触发陨石效果：每波随机2个目标降下流星，1秒内总计4波，每颗流星造成或属性伤害。\\n火属性伤害：主手基础伤害153.8%+236点。',\n    prevNodesIndexes: [41, 42],\n  },\n  {\n    id: 46,\n    x: 2,\n    y: 28,\n    type: 'stats',\n    point: 3,\n    name: '三转',\n    value: 2,\n    prevNodesIndexes: [45],\n  },\n  {\n    id: 47,\n    x: 4,\n    y: 28,\n    type: 'stats',\n    point: 3,\n    name: '攻击|召唤增幅',\n    value: 0.05,\n    prevNodesIndexes: [43],\n  },\n  {\n    id: 48,\n    x: 6,\n    y: 28,\n    type: 'stats',\n    point: 3,\n    name: '暴击效果',\n    value: 0.1,\n    prevNodesIndexes: [44],\n  },\n  {\n    id: 49,\n    x: 3,\n    y: 29,\n    type: 'skill',\n    point: 5,\n    name: '胜利鼓舞',\n    description: '战斗中任意敌方目标重伤后，恢复角色生命。\\n恢复：5.5%的生命。',\n    prevNodesIndexes: [46, 47],\n  },\n  {\n    id: 50,\n    x: 5,\n    y: 29,\n    type: 'stats',\n    point: 3,\n    name: '三转',\n    value: 2,\n    prevNodesIndexes: [47, 48],\n  },\n  {\n    id: 51,\n    x: 4,\n    y: 30,\n    type: 'stats',\n    point: 3,\n    name: '光伤',\n    value: 0.05,\n    prevNodesIndexes: [49, 50],\n  },\n  {\n    id: 52,\n    x: 1,\n    y: 31,\n    type: 'stats',\n    point: 3,\n    name: '耐',\n    value: 5,\n    prevNodesIndexes: [49],\n  },\n  {\n    id: 53,\n    x: 3,\n    y: 31,\n    type: 'stats',\n    point: 4,\n    name: '全抗',\n    value: 0.08,\n    prevNodesIndexes: [],\n  },\n  {\n    id: 54,\n    x: 5,\n    y: 31,\n    type: 'stats',\n    point: 3,\n    name: '敏',\n    value: 5,\n    prevNodesIndexes: [50],\n  },\n  {\n    id: 55,\n    x: 0,\n    y: 32,\n    type: 'stats',\n    point: 3,\n    name: '冰伤',\n    value: 0.05,\n    prevNodesIndexes: [52],\n  },\n  {\n    id: 56,\n    x: 4,\n    y: 32,\n    type: 'stats',\n    point: 3,\n    name: '护甲',\n    value: 0.05,\n    prevNodesIndexes: [53, 54],\n  },\n  {\n    id: 57,\n    x: 1,\n    y: 33,\n    type: 'skill',\n    point: 5,\n    name: '链钩',\n    description:\n      '对2目标进行攻击，偷袭造成物理伤害，拉近距离3，是目标附带1层流血。\\n物理伤害：主手基础伤害184.5%+284点。',\n    prevNodesIndexes: [52, 55],\n  },\n  {\n    id: 58,\n    x: 3,\n    y: 33,\n    type: 'skill',\n    point: 5,\n    name: '净世之光',\n    description: '对敌方全体进行攻击，造成光属性伤害。\\n光属性伤害：主手基础伤害307.5%+473点。',\n    prevNodesIndexes: [],\n  },\n  {\n    id: 59,\n    x: 5,\n    y: 33,\n    type: 'stats',\n    point: 3,\n    name: '威',\n    value: 5,\n    prevNodesIndexes: [],\n  },\n  {\n    id: 60,\n    x: 2,\n    y: 34,\n    type: 'stats',\n    point: 3,\n    name: '光伤|光抗',\n    value: 0.05,\n    prevNodesIndexes: [58],\n  },\n  {\n    id: 61,\n    x: 4,\n    y: 34,\n    type: 'stats',\n    point: 3,\n    name: '三转',\n    value: 2,\n    prevNodesIndexes: [59],\n  },\n  {\n    id: 62,\n    x: 6,\n    y: 34,\n    type: 'stats',\n    point: 4,\n    name: '随从攻速',\n    value: 0.1,\n    prevNodesIndexes: [48, 59],\n  },\n  {\n    id: 63,\n    x: 1,\n    y: 35,\n    type: 'stats',\n    point: 3,\n    name: '物伤|物抗',\n    value: 0.05,\n    prevNodesIndexes: [57],\n  },\n  {\n    id: 64,\n    x: 3,\n    y: 35,\n    type: 'stats',\n    point: 4,\n    name: '绝闪',\n    value: 0.08,\n    prevNodesIndexes: [60, 61],\n  },\n  {\n    id: 65,\n    x: 0,\n    y: 36,\n    type: 'stats',\n    point: 3,\n    name: '四转',\n    value: 2,\n    prevNodesIndexes: [63],\n  },\n  {\n    id: 66,\n    x: 2,\n    y: 36,\n    type: 'stats',\n    point: 3,\n    name: '全属性',\n    value: 3,\n    prevNodesIndexes: [64],\n  },\n  {\n    id: 67,\n    x: 6,\n    y: 36,\n    type: 'stats',\n    point: 3,\n    name: '秘',\n    value: 5,\n    prevNodesIndexes: [62],\n  },\n  {\n    id: 68,\n    x: 1,\n    y: 37,\n    type: 'stats',\n    point: 4,\n    name: '暴击率|暴击效果', // 5% 10%\n    value: 0.05,\n    prevNodesIndexes: [63],\n  },\n  {\n    id: 69,\n    x: 5,\n    y: 37,\n    type: 'stats',\n    point: 3,\n    name: '四转',\n    value: 2,\n    prevNodesIndexes: [67],\n  },\n  {\n    id: 70,\n    x: 2,\n    y: 38,\n    type: 'stats',\n    point: 3,\n    name: '冰伤|冰抗',\n    value: 0.05,\n    prevNodesIndexes: [66],\n  },\n  {\n    id: 71,\n    x: 4,\n    y: 38,\n    type: 'stats',\n    point: 3,\n    name: '威',\n    value: 5,\n    prevNodesIndexes: [69],\n  },\n  {\n    id: 72,\n    x: 6,\n    y: 38,\n    type: 'stats',\n    point: 3,\n    name: '暗伤|暗抗',\n    value: 0.05,\n    prevNodesIndexes: [67],\n  },\n  {\n    id: 73,\n    x: 3,\n    y: 39,\n    type: 'stats',\n    point: 4,\n    name: '生命吸取|全伤',\n    value: 0.04,\n    prevNodesIndexes: [70, 71],\n  },\n  {\n    id: 74,\n    x: 5,\n    y: 39,\n    type: 'skill',\n    point: 5,\n    name: '土元素',\n    description: '身后召唤，土元素普攻对单体造成物理伤害，击退距离2.\\n物理伤害：土元素基础伤害422.3%+649点。',\n    prevNodesIndexes: [],\n  },\n  {\n    id: 75,\n    x: 0,\n    y: 40,\n    type: 'stats',\n    point: 3,\n    name: '运',\n    value: 5,\n    prevNodesIndexes: [65, 70],\n  },\n  {\n    id: 76,\n    x: 6,\n    y: 40,\n    type: 'stats',\n    point: 3,\n    name: '耐',\n    value: 5,\n    prevNodesIndexes: [72, 74],\n  },\n  {\n    id: 77,\n    x: 1,\n    y: 41,\n    type: 'skill',\n    point: 5,\n    name: '轮回眼',\n    description: '间隔一段时间，复制前一个角色使用的技能。\\n间隔时间：34秒。',\n    prevNodesIndexes: [75],\n  },\n  {\n    id: 78,\n    x: 3,\n    y: 41,\n    type: 'stats',\n    point: 3,\n    name: '火伤|火炕',\n    value: 0.05,\n    prevNodesIndexes: [73],\n  },\n  {\n    id: 79,\n    x: 5,\n    y: 41,\n    type: 'stats',\n    point: 3,\n    name: '秘',\n    value: 5,\n    prevNodesIndexes: [],\n  },\n  {\n    id: 80,\n    x: 4,\n    y: 42,\n    type: 'stats',\n    point: 4,\n    name: '全属性|格挡率', // +3 10%\n    value: 0.1,\n    prevNodesIndexes: [78, 79],\n  },\n  {\n    id: 81,\n    x: 6,\n    y: 42,\n    type: 'skill',\n    point: 5,\n    name: '共生',\n    description: '友方有任意随从存活时，则角色受到的伤害降低。\\n伤害降低：11.0%。',\n    prevNodesIndexes: [79],\n  },\n  {\n    id: 82,\n    x: 1,\n    y: 43,\n    type: 'stats',\n    point: 4,\n    name: '生命吸取',\n    value: 0.04,\n    prevNodesIndexes: [78],\n  },\n  {\n    id: 83,\n    x: 3,\n    y: 43,\n    type: 'stats',\n    point: 3,\n    name: '敏',\n    value: 5,\n    prevNodesIndexes: [78],\n  },\n  {\n    id: 84,\n    x: 5,\n    y: 43,\n    type: 'stats',\n    point: 3,\n    name: '运',\n    value: 5,\n    prevNodesIndexes: [80],\n  },\n  {\n    id: 85,\n    x: 2,\n    y: 44,\n    type: 'stats',\n    point: 4,\n    name: '格挡率|格挡效果', // +5% +10%\n    value: 0.05,\n    prevNodesIndexes: [82, 83],\n  },\n  {\n    id: 86,\n    x: 1,\n    y: 45,\n    type: 'skill',\n    point: 5,\n    name: '风息',\n    description:\n      '角色武器普攻有20%的概率触发风息效果：对目标造成真实伤害，手角色普攻伤害加成影响。\\n真实伤害：主手攻击34.1%+96点。',\n    prevNodesIndexes: [82],\n  },\n  {\n    id: 87,\n    x: 3,\n    y: 45,\n    type: 'skill',\n    point: 5,\n    name: '技能振幅',\n    description: '角色每次使用攻击技能后，使角色伤害提高1.5%，可叠加。\\n叠加次数：11次。',\n    prevNodesIndexes: [84],\n  },\n  {\n    id: 88,\n    x: 5,\n    y: 45,\n    type: 'stats',\n    point: 4,\n    name: '冷却恢复',\n    value: 0.08,\n    prevNodesIndexes: [84],\n  },\n  {\n    id: 89,\n    x: 4,\n    y: 46,\n    type: 'stats',\n    point: 3,\n    name: '四转',\n    value: 2,\n    prevNodesIndexes: [87, 88],\n  },\n];\n","import React, { useEffect, useState } from 'react';\nimport { Heading, Button, Text, Grid, Box, TextInput } from 'grommet';\n\nimport { MAX_VALUE, NODES } from './Constants';\n\nimport { Node, NodeType } from './components';\n\n// const SCALE = 4;\nconst buildSeparator = '-';\nconst urlSeparator = '?';\nconst startingTowerLevel = 160;\n\nexport function TalentSimulator() {\n  const [showAllTooltip, setShowAllTooltip] = useState(false);\n  const [totalPoints, setTotalPoints] = useState(0);\n  const [summary, setSummary] = useState({} as { [key: string]: number | undefined });\n  const [searchString, setsearchString] = useState('');\n  const [imporBuildString, setImportBuildString] = useState('');\n  const [towerLevel, setTowerLevel] = useState(startingTowerLevel);\n\n  useEffect(() => {\n    const pathParts = window.location.href.split(urlSeparator);\n    const buildString = pathParts[1];\n    if (buildString) {\n      importBuild(buildString);\n      window.history.pushState('some state', 'some title', pathParts[0]);\n    }\n  });\n\n  const getSize = (maxValue: any) => {\n    const width = maxValue.x * 20 + 20;\n    const height = maxValue.y * 10 + 10;\n    return { width, height, viewBox: `-10 -5 ${width} ${height}` };\n  };\n\n  const size = getSize(MAX_VALUE);\n\n  const initialNodes: NodeType[] = [];\n\n  const getTooltip = ({\n    type,\n    name,\n    point,\n    value = 0,\n    description = '',\n  }: {\n    type: string;\n    name: string;\n    point: number;\n    value?: number;\n    description?: string;\n  }) => {\n    if (type === 'stats') {\n      return `${name}+${value >= 1 ? value : `${Math.round(value * 100)}%`}: ${point}点`;\n    } else if (type === 'skill') {\n      return `${name}: ${point}点`;\n    } else {\n      return `${name}`;\n    }\n  };\n\n  NODES.forEach(NODE => {\n    const node: NodeType = {\n      id: NODE.id,\n      isSelected: false,\n      x: NODE.x * 20,\n      y: size.height - NODE.y * 10 - 20,\n      point: NODE.point,\n      name: NODE.name,\n      value: NODE.value,\n      description: NODE.description,\n      tooltip: getTooltip(NODE),\n      nextNodesIndexes: [],\n      prevNodesIndexes: NODE.prevNodesIndexes,\n    };\n    node.prevNodesIndexes.forEach(nodeIndex => {\n      const prevNode: NodeType = initialNodes[nodeIndex];\n      prevNode.nextNodesIndexes.push(node.id);\n    });\n    initialNodes.push(node);\n  });\n\n  const [nodes, setNodes] = useState(initialNodes);\n\n  const onClick = (index: number) => {\n    const _node = nodes[index];\n    const _nodes = [...nodes];\n    _nodes.splice(index, 1, { ..._node, isSelected: !_node.isSelected });\n    setTotalPoints(totalPoints + (_node.isSelected ? -_node.point : _node.point));\n    setNodes(_nodes);\n    const _summary = { ...summary };\n    if (_summary[_node.name] && _node.value) {\n      _summary[_node.name] = (_summary[_node.name] || 0) + (_node.isSelected ? -_node.value : _node.value);\n    } else {\n      _summary[_node.name] = _node.value;\n    }\n    setSummary(_summary);\n  };\n\n  const clearAll = () => {\n    setTotalPoints(0);\n    setNodes(initialNodes);\n    setSummary({});\n  };\n\n  const importBuild = (buildString?: string) => {\n    const _nodes = [...initialNodes];\n    let _totalPoints = 0;\n    const _summary: { [key: string]: number | undefined } = {};\n    (buildString || imporBuildString).split(buildSeparator).forEach(indexString => {\n      const index = parseInt(indexString);\n      if (!isNaN(index) && index < _nodes.length) {\n        const _node = _nodes[index];\n        _nodes.splice(index, 1, { ..._node, isSelected: !_node.isSelected });\n        _totalPoints = _totalPoints + (_node.isSelected ? -_node.point : _node.point);\n        if (_summary[_node.name] && _node.value) {\n          _summary[_node.name] = (_summary[_node.name] || 0) + (_node.isSelected ? -_node.value : _node.value);\n        } else {\n          _summary[_node.name] = _node.value;\n        }\n      }\n    });\n    setTotalPoints(_totalPoints);\n    setNodes(_nodes);\n    setSummary(_summary);\n    setImportBuildString('');\n  };\n\n  const getBuild = () => {\n    let buildString = '';\n    nodes.forEach(node => {\n      if (node.isSelected) {\n        buildString += node.id === 0 ? node.id : `${buildSeparator}${node.id}`;\n      }\n    });\n    return buildString;\n  };\n\n  return (\n    <>\n      <Grid\n        fill={true}\n        rows={['100%']}\n        columns={['50%', '50%']}\n        gap=\"small\"\n        areas={[\n          { name: 'stats', start: [0, 0], end: [0, 0] },\n          { name: 'starMap', start: [1, 0], end: [1, 0] },\n        ]}>\n        <Box gridArea=\"stats\" pad={'10px'} background=\"light-5\">\n          <Grid\n            fill=\"horizontal\"\n            rows={['xxsmall', 'xxsmall', 'xxsmall', 'xxsmall']}\n            columns={['22%', '22%', '22%', '22%']}\n            gap=\"small\"\n            areas={[\n              { name: 'showAll', start: [2, 0], end: [2, 0] },\n              { name: 'resetAll', start: [3, 0], end: [3, 0] },\n              { name: 'importString', start: [0, 1], end: [2, 1] },\n              { name: 'importButton', start: [3, 1], end: [3, 1] },\n              { name: 'currentBuild', start: [0, 2], end: [2, 2] },\n              { name: 'exportButton', start: [3, 2], end: [3, 2] },\n              { name: 'searchBar', start: [0, 3], end: [2, 3] },\n              { name: 'towerLevel', start: [3, 3], end: [3, 3] },\n            ]}>\n            <Button\n              gridArea=\"showAll\"\n              primary\n              label={showAllTooltip ? '全部隐藏' : '全部显示'}\n              onClick={() => setShowAllTooltip(!showAllTooltip)}\n            />\n            <Button gridArea=\"resetAll\" fill={false} primary label={'重置'} onClick={() => clearAll()} />\n            <Box gridArea=\"importString\" background=\"light-5\">\n              <TextInput\n                placeholder=\"导入BD的星点\"\n                value={imporBuildString}\n                onChange={event => {\n                  setImportBuildString(event.target.value);\n                }}\n              />\n            </Box>\n            <Button gridArea=\"importButton\" fill={false} primary label={'导入'} onClick={() => importBuild()} />\n            <Box gridArea=\"currentBuild\" background=\"light-5\">\n              <TextInput disabled placeholder=\"现在的星点\" value={getBuild()} />\n            </Box>\n            <Button\n              gridArea=\"exportButton\"\n              fill={false}\n              primary\n              label={'导出链接'}\n              onClick={() => {\n                const link = `${window.location.href}${urlSeparator}${getBuild()}`;\n                navigator.clipboard.writeText(link).then(() => alert(`链接已复制到剪贴板，请粘贴使用\\n${link}`));\n              }}\n            />\n            <Box gridArea=\"searchBar\" background=\"light-5\">\n              <TextInput\n                placeholder=\"搜索星图\"\n                value={searchString}\n                onChange={event => setsearchString(event.target.value)}\n              />\n            </Box>\n            <Box gridArea=\"towerLevel\" background=\"light-5\">\n              <TextInput\n                placeholder=\"通天层数\"\n                type=\"number\"\n                value={towerLevel}\n                onChange={event => setTowerLevel(parseInt(event.target.value))}\n              />\n            </Box>\n          </Grid>\n\n          <Heading size=\"none\">\n            {towerLevel\n              ? `剩余：${towerLevel + 5 - totalPoints}星点`\n              : `需要：${totalPoints}星点，${Math.max(totalPoints - 5, 0)}层通天塔`}\n          </Heading>\n          {Object.keys(summary).map(key => {\n            const value = summary[key];\n            if (value === undefined) {\n              return <Text key={key}>{key}</Text>;\n            } else if (value > 0) {\n              return <Text key={key}>{`${key}+${value > 1 ? value : `${Math.round(value * 100)}%`}`}</Text>;\n            }\n            return null;\n          })}\n        </Box>\n        <Box gridArea=\"starMap\" background=\"light-2\">\n          <svg width={'100%'} viewBox={size.viewBox}>\n            <rect x={-10} y={-5} width=\"100%\" height=\"100%\" fill=\"Cyan\"></rect>\n\n            {nodes.map(node => (\n              <Node\n                {...node}\n                onClick={() => onClick(node.id)}\n                nodes={nodes}\n                showTooltip={showAllTooltip}\n                searchString={searchString}\n                remindPoints={towerLevel ? towerLevel + 5 - totalPoints : 999}\n                key={node.id}></Node>\n            ))}\n          </svg>\n        </Box>\n      </Grid>\n    </>\n  );\n}\n","import React from 'react';\nimport { Grommet, Box, Heading, ResponsiveContext } from 'grommet';\n// import { FormClose, Notification } from 'grommet-icons';\nimport { TalentSimulator } from './talent-simulator/TalentSimulator';\n\nconst theme = {\n  global: {\n    colors: {\n      brand: '#228BE6',\n    },\n    font: {\n      family: 'Roboto',\n      size: '18px',\n      height: '20px',\n    },\n  },\n};\n\nconst AppBar = (props: any) => (\n  <Box\n    tag=\"header\"\n    direction=\"row\"\n    align=\"center\"\n    justify=\"between\"\n    background=\"brand\"\n    pad={{ left: 'medium', right: 'small', vertical: 'small' }}\n    elevation=\"medium\"\n    style={{ zIndex: '1' }}\n    {...props}\n  />\n);\n\nfunction App() {\n  // const [showSidebar, setShowSidebar] = useState(false);\n\n  return (\n    <Grommet theme={theme} full>\n      <ResponsiveContext.Consumer>\n        {size => (\n          <Box fill>\n            <AppBar>\n              <Heading level=\"3\" margin=\"none\">\n                不朽星图模拟器\n              </Heading>\n              {/* sidebar example */}\n              {/* <Button icon={<Notification />} onClick={() => setShowSidebar(!showSidebar)} /> */}\n            </AppBar>\n            <Box direction=\"row\" flex overflow={{ horizontal: 'hidden' }}>\n              <Box flex align=\"center\" justify=\"center\">\n                <TalentSimulator />\n              </Box>\n              {/* sidebar example */}\n              {/* {size !== 'small' ? (\n                <Collapsible direction=\"horizontal\" open={showSidebar}>\n                  <Box flex width=\"medium\" background=\"light-2\" elevation=\"small\" align=\"center\" justify=\"center\">\n                    sidebar\n                  </Box>\n                </Collapsible>\n              ) : (\n                showSidebar && (\n                  <Layer>\n                    <Box background=\"light-2\" tag=\"header\" justify=\"end\" align=\"center\" direction=\"row\">\n                      <Button icon={<FormClose />} onClick={() => setShowSidebar(false)} />\n                    </Box>\n                    <Box fill background=\"light-2\" align=\"center\" justify=\"center\">\n                      sidebar\n                    </Box>\n                  </Layer>\n                )\n              )} */}\n            </Box>\n          </Box>\n        )}\n      </ResponsiveContext.Consumer>\n    </Grommet>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}