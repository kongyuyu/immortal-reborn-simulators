(this["webpackJsonpimmortal-reborn-simulators"]=this["webpackJsonpimmortal-reborn-simulators"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(7),o=n(0),i=n.n(o),r=n(60),s=function(e){var t=e.children,n=e.tooltip,s=e.forceShow,c=Object(o.useRef)(null),l=Object(o.useState)(!1),d=Object(a.a)(l,2),u=d[0],p=d[1],m=Object(o.useState)(!1),v=Object(a.a)(m,2),x=v[0],y=v[1],f={};if(!s){var h=function(){return p(!0)};f={onMouseOver:h,onFocus:h,onMouseLeave:function(){return p(!1)}}}var g=t.props,b=g.x,E=void 0===b?0:b,w=g.y,I=void 0===w?0:w,N=g.width,j=void 0===N?0:N,O=g.height,k=void 0===O?0:O,S=g.cx,B=g.cy,C=g.r;return S&&B&&C&&(E=S-C,I=B-C,j=2*C,k=2*C),Object(o.useEffect)((function(){y(!0)}),[c]),i.a.createElement(i.a.Fragment,null,i.a.createElement("svg",Object.assign({x:E,y:I,width:j,height:k,viewBox:"".concat(E," ").concat(I," ").concat(j," ").concat(k)},f),i.a.createElement("foreignObject",{x:E,y:I,width:j,height:k},i.a.createElement("div",{ref:c,style:{width:"100%",height:"100%",visibility:"hidden"}}),x&&(u||s)&&c.current&&i.a.createElement(r.a,{align:{bottom:"top"},target:c.current,trapFocus:!1},n)),t))}},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),o=n.n(a),i=n(10),r=function(e){var t=e.x,n=e.y,a=e.id,r=e.isSelected,s=e.nodes,c=e.prevNodesIndexes,l=e.nextNodesIndexes,d=e.onClick,u=e.tooltip,p=e.showTooltip,m=!1;r||(m=0===a||void 0!==c.find((function(e){return s[e].isSelected}))||void 0!==l.find((function(e){return s[e].isSelected})));var v=r||m;return o.a.createElement(o.a.Fragment,null,l.map((function(e){var i=s[e];return o.a.createElement("line",{x1:t,y1:n,z:100,x2:i.x,y2:i.y,stroke:r&&i.isSelected?"blue":"black",key:"".concat(a,"-").concat(i.id)})})),o.a.createElement("svg",{x:t-2.5,y:n-2.5,width:5,height:5,viewBox:"0 0 ".concat(5," ").concat(5),onClick:v?d:function(){},style:v?{cursor:"pointer"}:void 0},o.a.createElement(i.a,{tooltip:u||"",forceShow:p},o.a.createElement("circle",{cx:2.5,cy:2.5,r:2.5,fill:r?"blue":m?"green":"gray"}))))}},28:function(e,t){},29:function(e,t,n){"use strict";var a=n(27);n.d(t,"Node",(function(){return a.a}));n(10),n(28)},46:function(e,t,n){e.exports=n(59)},59:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(11),r=n.n(i),s=n(69),c=n(68),l=n(67),d=n(72),u=n(17),p=n(43),m=n(7),v=n(71),x=n(70),y=n(73),f={x:6,y:30},h=[{id:0,x:2,y:0,type:"stats",point:3,name:"\u5a01",value:5,prevNodesIndexes:[]},{id:1,x:4,y:2,type:"stats",point:3,name:"\u8010",value:5,prevNodesIndexes:[0]},{id:2,x:5,y:3,type:"stats",point:3,name:"\u79d8",value:5,prevNodesIndexes:[1]},{id:3,x:2,y:4,type:"stats",point:3,name:"\u8fd0",value:5,prevNodesIndexes:[1]},{id:4,x:1,y:5,type:"stats",point:3,name:"\u5168\u5c5e\u6027",value:3,prevNodesIndexes:[3]},{id:5,x:3,y:5,type:"stats",point:3,name:"\u654f",value:5,prevNodesIndexes:[2,3]},{id:6,x:3,y:7,type:"stats",point:3,name:"\u4e00\u8f6c",value:2,prevNodesIndexes:[5]},{id:7,x:5,y:7,type:"stats",point:3,name:"\u4e00\u8f6c",value:2,prevNodesIndexes:[2]},{id:8,x:6,y:8,type:"stats",point:3,name:"\u8fd0",value:5,prevNodesIndexes:[7]},{id:9,x:1,y:9,type:"stats",point:3,name:"\u8010",value:5,prevNodesIndexes:[6]},{id:10,x:3,y:9,type:"stats",point:3,name:"\u654f",value:5,prevNodesIndexes:[6]},{id:11,x:5,y:9,type:"stats",point:3,name:"\u5a01",value:5,prevNodesIndexes:[7]},{id:12,x:2,y:10,type:"stats",point:3,name:"\u666e\u653b",value:.07,prevNodesIndexes:[9,10]},{id:13,x:4,y:10,type:"stats",point:3,name:"\u8155\u529b",value:.5,prevNodesIndexes:[11]},{id:14,x:6,y:10,type:"stats",point:3,name:"\u79d8",value:5,prevNodesIndexes:[8]},{id:15,x:1,y:13,type:"special",point:3,name:"\u71c3\u70e7\u95f4\u9694-50%",prevNodesIndexes:[9]},{id:16,x:3,y:13,type:"stats",point:3,name:"\u4e8c\u8f6c",value:2,prevNodesIndexes:[14]},{id:17,x:2,y:14,type:"stats",point:3,name:"\u5168\u6297\u6027",value:.04,prevNodesIndexes:[]},{id:18,x:1,y:15,type:"stats",point:3,name:"\u4e8c\u8f6c",value:2,prevNodesIndexes:[15,17]},{id:19,x:3,y:15,type:"stats",point:3,name:"\u5168\u5c5e\u6027",value:3,prevNodesIndexes:[16]},{id:20,x:0,y:16,type:"skill",point:3,name:"\u751f\u547d\u7efd\u653e",prevNodesIndexes:[18]},{id:21,x:2,y:16,type:"stats",point:3,name:"\u66b4\u51fb\u7387",value:.05,prevNodesIndexes:[17,19]}],g=n(29);function b(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(0),c=Object(m.a)(r,2),l=c[0],b=c[1],E=Object(a.useState)({}),w=Object(m.a)(E,2),I=w[0],N=w[1],j=function(e){var t=20*e.x+20,n=10*e.y+10;return{width:t,height:n,viewBox:"-10 -5 ".concat(t," ").concat(n)}}(f),O=[],k=function(e){var t=e.type,n=e.name,a=e.value,o=void 0===a?0:a,i=e.description,r=void 0===i?"":i;return"stats"===t?"".concat(n,"+").concat(o>=1?o:"".concat(Math.round(100*o),"%")):"skill"===t?"".concat(n,"\n").concat(r):"".concat(n)};h.forEach((function(e){var t={id:e.id,isSelected:!1,x:20*e.x,y:j.height-10*e.y-20,point:e.point,name:e.name,value:e.value,description:e.description,tooltip:k(e),nextNodesIndexes:[],prevNodesIndexes:e.prevNodesIndexes};t.prevNodesIndexes.forEach((function(e){O[e].nextNodesIndexes.push(t.id)})),O.push(t)}));var S=Object(a.useState)(O),B=Object(m.a)(S,2),C=B[0],z=B[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{fill:!0,rows:["100%"],columns:["50%","50%"],gap:"small",areas:[{name:"nav",start:[0,0],end:[0,0]},{name:"main",start:[1,0],end:[1,0]}]},o.a.createElement(s.a,{gridArea:"nav",background:"light-5"},o.a.createElement(v.a,{fill:"horizontal",rows:["xxsmall"],columns:["45%","45%"],gap:"small",areas:[{name:"button1",start:[0,0],end:[0,0]},{name:"button2",start:[1,0],end:[1,0]}]},o.a.createElement(x.a,{gridArea:"button1",primary:!0,label:n?"\u5168\u90e8\u9690\u85cf":"\u5168\u90e8\u663e\u793a",onClick:function(){return i(!n)}}),o.a.createElement(x.a,{gridArea:"button2",fill:!1,primary:!0,label:"\u91cd\u7f6e",onClick:function(){return b(0),z(O),void N({})}})),o.a.createElement(d.a,{size:"small"},l),Object.keys(I).map((function(e){var t=I[e];return void 0===t?o.a.createElement(y.a,null,e):t>0?o.a.createElement(y.a,null,"".concat(e,"+").concat(t>1?t:"".concat(Math.round(100*t),"%"))):null}))),o.a.createElement(s.a,{gridArea:"main",background:"light-2"},o.a.createElement("svg",{width:3*j.width,height:3*j.height,viewBox:j.viewBox},o.a.createElement("rect",{x:-10,y:-10,width:"100%",height:"100%",fill:"Cyan"}),C.map((function(e){return o.a.createElement(g.Node,Object.assign({},e,{onClick:function(){return function(e){var t=C[e],n=Object(p.a)(C);n.splice(e,1,Object(u.a)(Object(u.a)({},t),{},{isSelected:!t.isSelected})),b(l+(t.isSelected?-t.point:t.point)),z(n);var a=Object(u.a)({},I);a[t.name]&&t.value?a[t.name]=(a[t.name]||0)+(t.isSelected?-t.value:t.value):a[t.name]=t.value,N(a),console.log("#Yuyu ",a)}(e.id)},nodes:C,showTooltip:n,key:e.id}))}))))))}var E={global:{colors:{brand:"#228BE6"},font:{family:"Roboto",size:"18px",height:"20px"}}},w=function(e){return o.a.createElement(s.a,Object.assign({tag:"header",direction:"row",align:"center",justify:"between",background:"brand",pad:{left:"medium",right:"small",vertical:"small"},elevation:"medium",style:{zIndex:"1"}},e))};var I=function(){return o.a.createElement(c.a,{theme:E,full:!0},o.a.createElement(l.a.Consumer,null,(function(e){return o.a.createElement(s.a,{fill:!0},o.a.createElement(w,null,o.a.createElement(d.a,{level:"3",margin:"none"},"\u4e0d\u673d\u661f\u56fe\u6a21\u62df\u5668")),o.a.createElement(s.a,{direction:"row",flex:!0,overflow:{horizontal:"hidden"}},o.a.createElement(s.a,{flex:!0,align:"center",justify:"center"},o.a.createElement(b,null))))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.f08d33d4.chunk.js.map